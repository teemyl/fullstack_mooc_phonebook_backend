{"version":3,"sources":["Components.js","services/persons.js","App.js","index.js"],"names":["Notification","message","type","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Filter","props","value","filter","onChange","handleFilterInput","PersonForm","newName","newNumber","handleSubmit","handleNameInput","handleNumberInput","onSubmit","PersonList","persons","handleDelete","person","name","toUpperCase","indexOf","map","key","id","Person","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","displaySuccess","msg","setTimeout","e","target","event","preventDefault","newPerson","findIndex","p","window","confirm","existingPerson","find","updatedPerson","createdPerson","concat","deleteObject","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4adb6f58.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const Notification = ({ message, type }) => {\r\n\r\n  const errorStyle = {\r\n    color: 'red',\r\n    background: 'lightpink',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  const successStyle = {\r\n    color: 'green',\r\n    background: 'lightgreen',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div style={ type === \"error\" ? errorStyle : successStyle }>\r\n      { message }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const Filter = (props) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={ props.filter } onChange={ props.handleFilterInput } />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const PersonForm = (props) => {\r\n  const {\r\n    newName,\r\n    newNumber,\r\n    handleSubmit,\r\n    handleNameInput,\r\n    handleNumberInput\r\n  } = props\r\n\r\n  return (\r\n    <form onSubmit={ handleSubmit }>\r\n      <div>name: <input value={ newName } onChange={ handleNameInput } /></div>\r\n      <div>number: <input value={ newNumber } onChange={ handleNumberInput } /></div>\r\n      <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport const PersonList = ({ persons, filter, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {\r\n        persons\r\n        .filter(person => person.name.toUpperCase().indexOf(filter.toUpperCase()) > -1)\r\n        .map(person => <Person key={ person.id } person={ person } handleDelete={ () => handleDelete(person.id) } />)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Person = ({ person, handleDelete }) => (\r\n  <div>\r\n    { person.name } { person.number } <button onClick={ handleDelete } value={ person.id }>delete</button>\r\n  </div>\r\n)","import axios from 'axios'\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${ baseUrl }/${ id }`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${ baseUrl }/${ id }`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\n\nimport { Filter, PersonForm, PersonList, Notification } from './Components'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setNewFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  const handleNameInput = (event) => setNewName(event.target.value)\n  const handleNumberInput = (event) => setNewNumber(event.target.value)\n  const handleFilterInput = (event) => setNewFilter(event.target.value)\n\n  const displaySuccess = (msg) => {\n    setSuccessMessage(msg)\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const displayError = (msg) => {\n    setErrorMessage(msg)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n  \n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n\n    if (persons.findIndex(p => p.name === newName) > -1) {\n      const result = window.confirm(`${ newName } is already added to phonebook, replace the old number with a new one?`)\n      if (result) {\n        const existingPerson = persons.find(p => p.name === newName)\n        personService\n          .update(existingPerson.id, newPerson)\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.id !== existingPerson.id ? p : updatedPerson))\n            displaySuccess(`Updated ${ updatedPerson.name }`)\n          })\n      }\n    }\n    else {\n      personService\n        .create(newPerson)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setNewNumber('')\n          setNewName('')\n          displaySuccess(`Created ${ createdPerson.name }`)\n        })\n    }\n  }\n\n  const handleDelete = (id) => {\n    const deleteObject = persons.find(p => p.id === id)\n    const result = window.confirm(`Delete ${ deleteObject.name }`)\n    if (result)\n      personService\n        .remove(deleteObject.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n        })\n        .catch(error => {\n          displayError(`Person '${ deleteObject.name }' was already removed from server`)\n        })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={ errorMessage } type=\"error\" />\n      <Notification message={ successMessage } type=\"success\" />\n\n      <Filter filter={ filter } handleFilterInput={ (e) => handleFilterInput(e) } />\n\n      <h3>add a new</h3>\n\n      <PersonForm\n        newName = { newName }\n        newNumber = { newNumber }\n        handleSubmit = { (e) => handleSubmit(e) }\n        handleNameInput = { (e) => handleNameInput(e) }\n        handleNumberInput = { (e) => handleNumberInput(e) }\n      />\n\n      <h3>Numbers</h3>\n\n      <PersonList\n        persons={ persons }\n        filter={ filter }\n        handleDelete = { handleDelete }\n      />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}